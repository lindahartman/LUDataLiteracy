[
  {
    "objectID": "Utrecht.html",
    "href": "Utrecht.html",
    "title": "Utrecht Housing",
    "section": "",
    "text": "The dataset contains the following columns\n\n\n\n\n\n\n\n\nvariable\ndescription\n\n\n\n\nid\nUnique ID\n\n\nzip_code4\nZip Code 4 digits\n\n\nzip_code6\nZip Code 6 symbols\n\n\nzip_code6_id\nZip Code 6 symbols ID\n\n\nhouse_type\nHouse Type: Apartment or House\n\n\nlot_area\nLot Aream, sqm\n\n\nhouse_area\nHouse Area, sqm\n\n\ngarden_size\nGarden Size, sqm\n\n\nrooms\nNumber of Rooms\n\n\nbathrooms\nNumber of Bathrooms\n\n\nx_coor\nX Coordinate\n\n\ny_coor\nY Coordinate\n\n\nbuild_year\nBuild Year\n\n\nretail_value\nRetail Value, kâ‚¬\n\n\nasking_price\nAsking Price, kâ‚¬\n\n\nenergy_label\nEnergy Label ('A++' to 'G')\n\n\nenergy_eff\nEnergy Efficiency (=1 for A, A+, A++, 0 otherwise)\n\n\nvaluation_date\nValuation Date\n\n\nstreet\nStreet Name\n\n\nsubdistrict\nSubdistrict Name\n\n\ndistrict\nDistrict Name\n\n\ncity\nCity\n\n\ndist_from_train\nDistance from train, km"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Getting started",
    "section": "",
    "text": "Common commands:\npwd          # print working directory\nls           # list files\ncd Pictures  # change to Pictures directory\ncd ..        # go up one level"
  },
  {
    "objectID": "index.html#shell-basics",
    "href": "index.html#shell-basics",
    "title": "Getting started",
    "section": "",
    "text": "Common commands:\npwd          # print working directory\nls           # list files\ncd Pictures  # change to Pictures directory\ncd ..        # go up one level"
  },
  {
    "objectID": "index.html#installing-and-using-uv",
    "href": "index.html#installing-and-using-uv",
    "title": "Getting started",
    "section": "Installing and using uv",
    "text": "Installing and using uv\nMac / Linux:\ncurl -LsSf https://astral.sh/uv/install.sh | sh\nWindows (PowerShell):\npowershell -ExecutionPolicy ByPass -c \"irm https://astral.sh/uv/install.ps1 | iex\"\nAfter uv is installed you can check that it is discoverable on your system\nuv --version\nMore info: uv documentation"
  },
  {
    "objectID": "index.html#python-project-setup",
    "href": "index.html#python-project-setup",
    "title": "Getting started",
    "section": "Python & Project Setup",
    "text": "Python & Project Setup\nInstall the latest Python:\nuv python install\nCreate a new project (replace the name if you like):\nuv init data-literacy-project\ncd data-literacy-project\nInstall course libraries:\nuv add gapminder plotnine polars pyarrow great_tables\nuv add --dev setuptools jupyter ipykernel pyyaml nbformat nbclient jupyterlab-quarto\nuv creates a pyproject.toml with dependencies and a local .venv for the environment. To restore everything later:\nuv sync"
  },
  {
    "objectID": "index.html#jupyter",
    "href": "index.html#jupyter",
    "title": "Getting started",
    "section": "Jupyter",
    "text": "Jupyter\nLaunch Jupyter\nuv run jupyter lab\nHere are some shortcuts which can be used in Command mode.\n\n\n\nShortcut\nMeaning\n\n\n\n\nEnter\nEnter the edit mode\n\n\nEsc\nExit the edit mode and return to command mode\n\n\ny\nChange cell to code\n\n\nm\nChange cell to markdown (text)\n\n\na\nInsert cell above\n\n\nb\nInsert cell below\n\n\nd d\nDelete current cell\n\n\nCtrl+Enter\nRun current cell"
  },
  {
    "objectID": "6_Quarto.html",
    "href": "6_Quarto.html",
    "title": "Practical 5: Producing reports with Quarto",
    "section": "",
    "text": "This is the tutorial for the first practical on Data Visualization with Plotnine\n\n1 + 1\n\n2\n\n\n\n\nCode\nimport polars as pl\nfrom plotnine import *\nfrom gapminder import gapminder\n\n\nC:\\Projects\\Teaching\\LUDataLiteracy\\.venv\\Lib\\site-packages\\gapminder\\data.py:1: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools&lt;81.\n\n\n\n#gapminder\n\n\n(\nggplot(gapminder)+\ngeom_point(mapping=aes(x='gdpPercap', y='lifeExp', color='continent'))\n)"
  },
  {
    "objectID": "4_Wrangling_joins.html",
    "href": "4_Wrangling_joins.html",
    "title": "Practical 4: Data Wrangling + joins",
    "section": "",
    "text": "This is the tutorial for the first practical on Data Visualization with Plotnine\n\n1 + 1\n\n2\n\n\n\n\nCode\nimport polars as pl\nfrom plotnine import *\nfrom gapminder import gapminder\n\n\nC:\\Projects\\Teaching\\LUDataLiteracy\\.venv\\Lib\\site-packages\\gapminder\\data.py:1: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools&lt;81.\n\n\n\n#gapminder\n\n\n(\nggplot(gapminder)+\ngeom_point(mapping=aes(x='gdpPercap', y='lifeExp', color='continent'))\n)"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html",
    "href": "2_DataViz_wrangling_sol.html",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "",
    "text": "This document contain a solved version of the second practical on Data Visualization + Wrangling\nThe objective of the tutorial is to give students a chance to practice the data visualization and data wrangling, applying the skills learned through the video lessons on a new dataset.\nRemember that there is typically no right or wrong solution, eg. your solution can be correct even if it differs from ours! The solution presents how to obtain the tables and graph that gives you the numbers asked for, but it is left as an exercise to you to read out the numbers that answer the actual questions."
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#preparation",
    "href": "2_DataViz_wrangling_sol.html#preparation",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Preparation",
    "text": "Preparation\n\n\n\n\n\n\nNote\n\n\n\nBefore you begin your peer-programming session, please, start the new Jupyter notebook environment in your terminal using the command you learned in Module 1 of the course.\nuv run jupyter lab\nCreate a new notebook and add a text cell atop your document for this practical session. Add a header # Data Visualization and wrangling. Then add a code cell and place the following code there.\n\nimport polars as pl\nimport polars.selectors as cs\nfrom plotnine import *\n\nThen import the datasets for this practical. Add another code cell below (using the key â€˜Bâ€™) and paste the following code. This will import two datasets we will be using in the session: Utrecht and Kingâ€™s County.\n\nut = pl.read_csv(\"https://bit.ly/data24utrecht\", try_parse_dates=True)\nkc = pl.read_csv('https://bit.ly/data24kingscounty', try_parse_dates=True)"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-1",
    "href": "2_DataViz_wrangling_sol.html#challenge-1",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 1",
    "text": "Challenge 1\n\n\n\n\n\n\nChallenge\n\n\n\nWhat is the average garden size for the houses in the Utrecht dataset? What is the median distance from the train station?\n\n\n\n(\nut.describe()\n)\n\n\nshape: (9, 24)\n\n\n\nstatistic\nid\nzip_code4\nzip_code6\nzip_code6_id\nhouse_type\nlot_area\nhouse_area\ngarden_size\nrooms\nbathrooms\nx_coor\ny_coor\nbuild_year\nretail_value\nasking_price\nenergy_label\nenergy_eff\nvaluation_date\nstreet\nsubdistrict\ndistrict\ncity\ndist_from_train\n\n\nstr\nf64\nf64\nstr\nstr\nstr\nf64\nf64\nf64\nf64\nf64\nf64\nf64\nf64\nf64\nf64\nstr\nf64\nstr\nstr\nstr\nstr\nstr\nf64\n\n\n\n\n\"count\"\n153.0\n153.0\n\"153\"\n\"153\"\n\"153\"\n153.0\n153.0\n141.0\n153.0\n153.0\n153.0\n153.0\n153.0\n153.0\n153.0\n\"150\"\n150.0\n\"153\"\n\"153\"\n\"153\"\n\"153\"\n\"153\"\n153.0\n\n\n\"null_count\"\n0.0\n0.0\n\"0\"\n\"0\"\n\"0\"\n0.0\n0.0\n12.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n0.0\n\"3\"\n3.0\n\"0\"\n\"0\"\n\"0\"\n\"0\"\n\"0\"\n0.0\n\n\n\"mean\"\n5077.104575\n3524.026144\nnull\nnull\nnull\n69.503268\n98.830065\n29.87234\n4.03268\n1.091503\n52.088116\n5.088639\n1967.980392\n559.300654\n506.140523\nnull\n0.5\n\"2024-07-13 06:16:28.235294\"\nnull\nnull\nnull\nnull\n3.045817\n\n\n\"std\"\n45.075107\n38.256225\nnull\nnull\nnull\n79.20818\n35.672448\n33.3903\n1.519255\n0.28927\n0.016607\n0.039587\n67.868824\n173.819215\n162.0794\nnull\n0.501675\nnull\nnull\nnull\nnull\nnull\n1.879933\n\n\n\"min\"\n5000.0\n3438.0\n\"3438LE\"\n\"3438LE100\"\n\"appartement\"\n0.0\n28.0\n0.0\n1.0\n1.0\n52.0465\n5.0\n1320.0\n225.0\n225.0\n\"A\"\n0.0\n\"2024-01-31\"\n\"A v Dalsumlaan\"\n\"Binnenstad city\"\n\"Binnenstad\"\n\"De Meern\"\n0.68\n\n\n\"25%\"\n5038.0\n3521.0\nnull\nnull\nnull\n0.0\n76.0\n0.0\n3.0\n1.0\n52.0773\n5.068\n1932.0\n425.0\n375.0\nnull\n0.0\n\"2024-05-15\"\nnull\nnull\nnull\nnull\n1.63\n\n\n\"50%\"\n5077.0\n3527.0\nnull\nnull\nnull\n48.0\n93.0\n21.0\n4.0\n1.0\n52.0919\n5.0989\n1985.0\n541.0\n490.0\nnull\n1.0\n\"2024-07-10\"\nnull\nnull\nnull\nnull\n2.68\n\n\n\"75%\"\n5116.0\n3544.0\nnull\nnull\nnull\n125.0\n118.0\n50.0\n5.0\n1.0\n52.0986\n5.1123\n2007.0\n676.0\n625.0\nnull\n1.0\n\"2024-09-16\"\nnull\nnull\nnull\nnull\n4.32\n\n\n\"max\"\n5154.0\n3584.0\n\"3584HD\"\n\"3584HD019\"\n\"woonhuis\"\n400.0\n204.0\n162.0\n8.0\n2.0\n52.1131\n5.1505\n2019.0\n1050.0\n995.0\n\"G\"\n1.0\n\"2024-11-27\"\n\"van der Broekstraat\"\n\"Zuilen-west\"\n\"Zuid-West\"\n\"Vleuten\"\n7.57"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-2",
    "href": "2_DataViz_wrangling_sol.html#challenge-2",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 2",
    "text": "Challenge 2\n\n\n\n\n\n\nChallenge\n\n\n\nPlot house area against lot area for the woonhuis properties and add a linear trend line. Which points stand out as outliers from the overall pattern? Roughly what lot area would you expect for a 200 sqm house based on this line?\nðŸ’¡ You can pass the data to plotnine using the .pipe() method.\n\n\n\n(\nut\n    .filter(pl.col('house_type')=='woonhuis')\n    .pipe(ggplot, aes(x='house_area', y='lot_area')) +\n    geom_point()+\n    geom_smooth(method='lm')\n)"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-3",
    "href": "2_DataViz_wrangling_sol.html#challenge-3",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 3",
    "text": "Challenge 3\n\n\n\n\n\n\nChallenge\n\n\n\nDo the outliers you identified in the previous plot also stand out in the relationship between house area and asking price? Do these outliers correspond to newer or older houses? Are they located close to one another? What are their 4-digit zip codes?\n\n\n\n(\nut\n    .filter(pl.col('house_type')=='woonhuis')\n    .filter(pl.col('build_year')&gt;1900)\n    .pipe(ggplot, aes(x='house_area', y='asking_price'))+\n    geom_point(aes(size='lot_area&gt;300', color='build_year'))+\n    geom_smooth(method='lm')\n)\n\n(\nut\n    .filter(pl.col('house_type')=='woonhuis')\n    .filter(pl.col('build_year')&gt;1900)\n    .pipe(ggplot, aes(x='x_coor', y='y_coor'))+\n    geom_jitter(aes(color='lot_area&gt;300'))\n)\n\n(\nut\n    .filter(pl.col('house_type')=='woonhuis')\n    .filter(pl.col('lot_area')&gt;300)\n    .select(pl.col('zip_code4'))\n)\n\n\nshape: (2, 1)\n\n\n\nzip_code4\n\n\ni64\n\n\n\n\n3543\n\n\n3543"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-4",
    "href": "2_DataViz_wrangling_sol.html#challenge-4",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 4",
    "text": "Challenge 4\n\n\n\n\n\n\nChallenge\n\n\n\nCreate a small dataset that includes only houses from the zip codes identified in the previous challenge. Show the street name, house size, lot area, build year, energy class, and asking price. How many houses are in your dataset? Arrange the observations by the year the houses were built. On which street is the oldest of these houses located?\n\n\n\n(\nut\n    .filter(pl.col('zip_code4')==3543)\n    .select(pl.col('street', 'house_area', 'lot_area', 'build_year', 'energy_label', 'asking_price'))\n    .sort('build_year')\n)\n\n\nshape: (5, 6)\n\n\n\nstreet\nhouse_area\nlot_area\nbuild_year\nenergy_label\nasking_price\n\n\nstr\ni64\ni64\ni64\nstr\nf64\n\n\n\n\n\"Leo Fallplantsoen\"\n81\n123\n2001\n\"A\"\n435.0\n\n\n\"Leo Fallplantsoen\"\n176\n207\n2004\n\"A\"\n725.0\n\n\n\"Jule Stynestraat\"\n162\n308\n2007\n\"A\"\n950.0\n\n\n\"Jule Stynestraat\"\n174\n179\n2007\n\"A\"\n825.0\n\n\n\"CG Sigmund Rombergstraat\"\n152\n400\n2017\n\"A\"\n995.0"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-5",
    "href": "2_DataViz_wrangling_sol.html#challenge-5",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 5",
    "text": "Challenge 5\n\n\n\n\n\n\nChallenge\n\n\n\nWhich 4-digit zip code includes the largest number of streets?\nWithin that zip code, what is the street name of the house closest to the train station?\nðŸ’¡ You can count unique values using n_unique() and find the minimum value with min()\n\n\n\n(\n    ut\n    .select(cs.starts_with('zip'), cs.matches('street'), cs.matches('dist_from_train'))\n    .group_by(pl.col('zip_code4'))\n    .agg(n_str=pl.n_unique('street'))\n    .sort('n_str', descending=True)\n)\n\n(\n    ut\n    .filter(pl.col('zip_code4')==3544)\n    .group_by('street')\n    .agg(min_dist=pl.col('dist_from_train').min())\n    .sort('min_dist')\n)\n\n\nshape: (5, 2)\n\n\n\nstreet\nmin_dist\n\n\nstr\nf64\n\n\n\n\n\"Klifrakplantsoen\"\n3.6\n\n\n\"Zandooghof\"\n4.32\n\n\n\"van der Broekstraat\"\n4.6\n\n\n\"Kees van Bohemenhof\"\n4.96\n\n\n\"Pablo Picassostraat\"\n5.43"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-6",
    "href": "2_DataViz_wrangling_sol.html#challenge-6",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 6",
    "text": "Challenge 6\n\n\n\n\n\n\nChallenge\n\n\n\nPlot a line showing the average house size per decade in the 20th century. How many peaks in the house sizes can you identify?\nðŸ’¡ The whole-number division in Python is written as //\n\n\n\n(\nut\n    .filter(pl.col('build_year')&gt;=1900, pl.col('build_year')&lt;=2000)\n    .with_columns(build_dec=pl.col('build_year')//10*10)\n    .group_by(pl.col('build_dec'))\n    .agg(pl.col('house_area').mean())\n    .pipe(ggplot)+\n    geom_line(aes(x='build_dec', y='house_area'))\n)"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-7",
    "href": "2_DataViz_wrangling_sol.html#challenge-7",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 7",
    "text": "Challenge 7\n\n\n\n\n\n\nChallenge\n\n\n\nCalculate the average square meter price per valuation week based on the retail value and plot it. Do you see any trend in real estate prices over time?\nðŸ’¡ Measure per square meter price as retail value divided by house area\nðŸ’¡ You can extract the ISO week number from the date using the .dt.week() method\n\n\n\n(\nut\n    .with_columns(wk=pl.col('valuation_date').dt.week(),\n                rv_psq=pl.col('retail_value')/pl.col('house_area'))\n    .group_by(pl.col('wk'))\n    .agg(avg_rv=pl.col('rv_psq').mean())\n    .pipe(ggplot, aes(x='wk', y='avg_rv'))+\n    geom_line()+\n    geom_smooth(method='lm')\n)"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-8",
    "href": "2_DataViz_wrangling_sol.html#challenge-8",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 8",
    "text": "Challenge 8\n\n\n\n\n\n\nChallenge\n\n\n\nWhich street has the highest number of energy-efficient houses? What proportion of houses on that street are energy efficient? When was the oldest of these houses built?\nðŸ’¡ You can calculate the proportion using .over() clause\n\n\n\n(\nut\n    .group_by('street','energy_eff')\n    .agg(n_houses=pl.len(), old=pl.col('build_year').min()) \n    .sort('n_houses','street', descending=True) \n    .with_columns(prop_houses=(pl.col('n_houses')/pl.col('n_houses').sum())\n                                .over('street'))\n    .filter(pl.col('energy_eff')==1)\n)\n\n\nshape: (28, 5)\n\n\n\nstreet\nenergy_eff\nn_houses\nold\nprop_houses\n\n\nstr\ni64\nu32\ni64\nf64\n\n\n\n\n\"Voorsterbeeklaan\"\n1\n10\n2005\n1.0\n\n\n\"Eyckenstein\"\n1\n6\n2006\n1.0\n\n\n\"Pablo Picassostraat\"\n1\n5\n2007\n1.0\n\n\n\"Europaplein\"\n1\n5\n2008\n0.714286\n\n\n\"Vlierhoeve\"\n1\n4\n2017\n1.0\n\n\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\n\n\n\"Eisenhowerlaan\"\n1\n1\n2006\n0.142857\n\n\n\"CG Sigmund Rombergstraat\"\n1\n1\n2017\n1.0\n\n\n\"Birkhoven\"\n1\n1\n2007\n1.0\n\n\n\"Anna van Burendreef\"\n1\n1\n2002\n1.0\n\n\n\"A v Dalsumlaan\"\n1\n1\n1978\n0.25"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-9",
    "href": "2_DataViz_wrangling_sol.html#challenge-9",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 9",
    "text": "Challenge 9\n\n\n\n\n\n\nChallenge\n\n\n\nDefine the asking price premium as the percentage difference between the asking price and the retail value. Which house has the highest asking price premium in the dataset? Compare this house to the others on the same street â€” is it also the most expensive on a per-square-meter basis?\nPlot the distribution of asking price per square meter. What do the top three most expensive properties in Utrecht (per square meter) have in common?\nðŸ’¡ You can see the house on Google Street View if you search Google Maps using x_coor, y_coor.\n\n\n\n(\n    ut\n    .pipe(ggplot)+\n    geom_point(aes(x='retail_value', y='asking_price'))\n)\n\n(\n    ut\n    .with_columns(premium=pl.col('asking_price')/pl.col('retail_value'))\n    .sort('premium', descending=True)\n    .slice(0,1)\n)\n\n(\n    ut\n    .filter(pl.col('street')=='Vleutenseweg')\n    .with_columns(premium=pl.col('asking_price')/pl.col('retail_value'), \n                    psqm=pl.col('asking_price')/pl.col('house_area'))\n    .sort('premium', descending=True)\n)\n\n\n(\n    ut\n    .with_columns(premium=pl.col('asking_price')/pl.col('retail_value'), \n                    psqm=pl.col('asking_price')/pl.col('house_area'))\n    .pipe(ggplot)+\n    geom_histogram(aes(x='psqm'), bins=50)\n)\n\n\n(    ut\n    .with_columns(premium=pl.col('asking_price')/pl.col('retail_value'), \n                    psqm=pl.col('asking_price')/pl.col('house_area'))\n    .sort('psqm', descending=True)\n)\n\n\nshape: (153, 25)\n\n\n\nid\nzip_code4\nzip_code6\nzip_code6_id\nhouse_type\nlot_area\nhouse_area\ngarden_size\nrooms\nbathrooms\nx_coor\ny_coor\nbuild_year\nretail_value\nasking_price\nenergy_label\nenergy_eff\nvaluation_date\nstreet\nsubdistrict\ndistrict\ncity\ndist_from_train\npremium\npsqm\n\n\ni64\ni64\nstr\nstr\nstr\ni64\ni64\ni64\ni64\ni64\nf64\nf64\ni64\ni64\nf64\nstr\ni64\ndate\nstr\nstr\nstr\nstr\nf64\nf64\nf64\n\n\n\n\n5127\n3526\n\"3526WS\"\n\"3526WS127\"\n\"appartement\"\n0\n28\n0\n1\n1\n52.0673\n5.1095\n2009\n249\n250.0\n\"B\"\n0\n2024-11-27\n\"Europaplein\"\n\"Kanaleneiland-Transwijk\"\n\"Zuid-West\"\n\"Utrecht\"\n2.37\n1.004016\n8.928571\n\n\n5124\n3526\n\"3526WS\"\n\"3526WS124\"\n\"appartement\"\n0\n28\n0\n1\n1\n52.0673\n5.1095\n2009\n225\n225.0\n\"A\"\n1\n2024-05-08\n\"Europaplein\"\n\"Kanaleneiland-Transwijk\"\n\"Zuid-West\"\n\"Utrecht\"\n2.37\n1.0\n8.035714\n\n\n5123\n3526\n\"3526WS\"\n\"3526WS123\"\n\"appartement\"\n0\n41\n0\n2\n1\n52.0673\n5.1095\n2008\n326\n325.0\n\"A\"\n1\n2024-08-16\n\"Europaplein\"\n\"Kanaleneiland-Transwijk\"\n\"Zuid-West\"\n\"Utrecht\"\n2.37\n0.996933\n7.926829\n\n\n5073\n3531\n\"3531PP\"\n\"3531PP073\"\n\"appartement\"\n0\n44\n12\n2\n1\n52.0924\n5.1015\n1918\n320\n325.0\n\"C\"\n0\n2024-03-11\n\"Javastraat\"\n\"Lombok-Leidseweg\"\n\"West\"\n\"Utrecht\"\n0.73\n1.015625\n7.386364\n\n\n5072\n3531\n\"3531PP\"\n\"3531PP072\"\n\"appartement\"\n0\n40\n0\n2\n1\n52.0926\n5.1014\n1918\n310\n295.0\n\"A\"\n1\n2024-07-01\n\"Javastraat\"\n\"Lombok-Leidseweg\"\n\"West\"\n\"Utrecht\"\n0.75\n0.951613\n7.375\n\n\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\nâ€¦\n\n\n5120\n3526\n\"3526SJ\"\n\"3526SJ120\"\n\"appartement\"\n0\n105\n0\n3\n1\n52.0665\n5.1048\n1969\n400\n385.0\n\"B\"\n0\n2024-10-31\n\"Azielaan\"\n\"Kanaleneiland-Transwijk\"\n\"Zuid-West\"\n\"Utrecht\"\n2.49\n0.9625\n3.666667\n\n\n5102\n3438\n\"3438LE\"\n\"3438LE102\"\n\"appartement\"\n0\n114\n0\n3\n1\n52.052\n5.0934\n2011\n455\n400.0\n\"A\"\n1\n2024-05-13\n\"Moerashoeve\"\n\"Blokhoeve\"\n\"Blokhoeve-Nieuwegein\"\n\"Nieuwegein\"\n4.23\n0.879121\n3.508772\n\n\n5023\n3524\n\"3524BZ\"\n\"3524BZ023\"\n\"appartement\"\n0\n110\n0\n4\n1\n52.0649\n5.1393\n1982\n461\n385.0\n\"B\"\n0\n2024-06-03\n\"Hondsrug\"\n\"Lunetten\"\n\"Zuid\"\n\"Utrecht\"\n3.3\n0.835141\n3.5\n\n\n5020\n3524\n\"3524BW\"\n\"3524BW020\"\n\"appartement\"\n0\n114\n0\n5\n1\n52.0908\n5.1222\n1983\n415\n375.0\n\"C\"\n0\n2024-03-25\n\"Hondsrug\"\n\"Lunetten\"\n\"Zuid\"\n\"Utrecht\"\n0.85\n0.903614\n3.289474\n\n\n5049\n3513\n\"3513AR\"\n\"3513AR049\"\n\"woonhuis\"\n65\n142\nnull\n6\n1\n52.097\n5.1069\n1906\n468\n399.0\n\"E\"\n0\n2024-05-31\n\"Beverstraat\"\n\"Pijlsweerd\"\n\"Noord-West\"\n\"Utrecht\"\n0.95\n0.852564\n2.809859"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-10",
    "href": "2_DataViz_wrangling_sol.html#challenge-10",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 10",
    "text": "Challenge 10\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the number of houses sold in each district.\nðŸ’¡ Use a bar chart to visualize the counts and flip the coordinates to make the labels easier to read. Research the difference between a bar chart and a column plot in Plotnine. Investigate how to use the reorder() function in Plotnine and see if you can improve your plot with it.\n\n\n\n(\n    kc\n    .pipe(ggplot)+\n    geom_bar(aes('reorder(district, district, len)'))+\n    coord_flip()\n)\n\n(\n    kc\n    .group_by('district')\n    .agg(n=pl.len())\n    .pipe(ggplot)+\n    geom_col(aes(x='reorder(district, n)', y='n'))+\n    coord_flip()\n)"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-11",
    "href": "2_DataViz_wrangling_sol.html#challenge-11",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 11",
    "text": "Challenge 11\n\n\n\n\n\n\nChallenge\n\n\n\nHow many houses changed owners more than once? What is the maximum number of times a house was sold? Where is this house located? How much profit was made by flipping it?\n\n\n\n(\n    kc\n    .group_by('id')\n    .agg(pl.len())\n    .filter(pl.col('len')&gt;1)\n    .sort('len', descending=True)\n)\n\n(\n    kc\n    .filter(pl.col('id')==795000620)\n    .sort('date')\n    .select(diff=pl.col('price').diff())\n    .sum()\n)\n\n\nshape: (1, 1)\n\n\n\ndiff\n\n\ni64\n\n\n\n\n42000"
  },
  {
    "objectID": "2_DataViz_wrangling_sol.html#challenge-12",
    "href": "2_DataViz_wrangling_sol.html#challenge-12",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 12",
    "text": "Challenge 12\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the average monthly house prices. Do you see signs of house-price inflation? Does your conclusion hold for every district?\nðŸ’¡ ou can round dates to the start of each month using dt.month_start().\n\n\n\n(\n    kc\n    .with_columns(monyear=pl.col('date').dt.month_start(),\n                ppsqm=pl.col('price')/pl.col('sqft_living'))\n    .group_by('monyear')\n    .agg(av_ppsqm=pl.col('ppsqm').mean())\n    .pipe(ggplot, aes(x='monyear', y='av_ppsqm'))+\n    geom_line()\n)\n\n(\n    kc\n    .with_columns(monyear=pl.col('date').dt.month_start(),\n                ppsqm=pl.col('price')/pl.col('sqft_living'))\n    .pipe(ggplot, aes(x='date', y='ppsqm'))+\n    geom_smooth(method='lm', color=\"blue\")\n)\n\n(\n    kc\n    .with_columns(monyear=pl.col('date').dt.month_start(),\n                ppsqm=pl.col('price')/pl.col('sqft_living'))\n    .group_by('monyear', 'district')\n    .agg(av_ppsqm=pl.col('ppsqm').mean())\n    .pipe(ggplot, aes(x='monyear', y='av_ppsqm'))+\n    geom_smooth(method='lm')+\n    facet_wrap('district')\n)"
  },
  {
    "objectID": "1_DataViz_sol.html",
    "href": "1_DataViz_sol.html",
    "title": "Practical 1: Data Visualization",
    "section": "",
    "text": "This document contain a solved version of the first practical on Data Visualization with Plotnine.\nThe objective of the practical is to give students a chance to practice data visualization by applying the skills learned through the video lessons, on a new dataset.\nRemember that there is typically no right or wrong solution, eg. your solution can be correct even if it differs from ours!"
  },
  {
    "objectID": "1_DataViz_sol.html#preparation",
    "href": "1_DataViz_sol.html#preparation",
    "title": "Practical 1: Data Visualization",
    "section": "Preparation:",
    "text": "Preparation:\n\nNavigatorâ€™s computer\nPlease open the files you need for reference, they will be the navigatorâ€™s best tools to help the driver efficiently:\n\nOpen your self-created code-along notebook with the commands you tried during the preparatory videos.\nKeep this document on the screen\nOpen data dictionary for Utrecht data\n\nHave a look at the manuscripts for the preparatory videos. Although, texts are rather chatty, the code (and explanations) can be useful!\n\n\n\nDriverâ€™s computer\n\n\n\n\n\n\nNote\n\n\n\nPlease open a terminal and navigate to the course folder you created during the installation and preparations (remember cd and ls). When terminal is in the correct location (mine is C:/Projects/Teaching/data-literacy-project/), start the Jupyter notebook environment in your terminal using the command you learned in Module 1 of the course.\nuv run jupyter lab\nCreate a new notebook and add a text cell atop your document for this practical session. Add a header # Data Visualization. Then add a code cell and place the following code there.\n\nimport polars as pl\nfrom plotnine import *\n\nThen import the datasets for this practical. Add another code cell below (using the key â€˜Bâ€™) and paste the following code. This will import two datasets we will be using in the session: Utrecht and Kingâ€™s County.\n\nut = pl.read_csv(\"https://bit.ly/data24utrecht\", try_parse_dates=True)\nkc = pl.read_csv('https://bit.ly/data24kingscounty', try_parse_dates=True)\n\nSave the notebook, eg. as Practical1.ipynb.\nAfter the Practical, share the notebook (+ pyproject.toml) in your programming pair."
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-1",
    "href": "1_DataViz_sol.html#challenge-1",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 1",
    "text": "Challenge 1\n\n\n\n\n\n\nChallenge\n\n\n\nReproduce this plot.\n\n\n\n\n\n\n\n\n\n\n\nShow solution\n(\nggplot(ut)+\ngeom_point(mapping=aes(x='house_area', y='retail_value', color='house_type')) +\nlabs(x='House Area, sqm', y='Retail Price, kâ‚¬', color='House type')\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-2",
    "href": "1_DataViz_sol.html#challenge-2",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 2",
    "text": "Challenge 2\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the (asked) price of the house against the number of rooms. Use color to indicate number of bathrooms in each house.\nðŸ’¡ Plot bathrooms as a â€˜factorâ€™ to show the two categories more distinctly.\n\n\n\n\nShow solution\n(\nggplot(ut)+\ngeom_jitter(mapping=aes(x='rooms', y='asking_price', color='factor(bathrooms)')) +\nlabs(x='Number of rooms', y='Asking Price', color='Bathrooms')\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-3",
    "href": "1_DataViz_sol.html#challenge-3",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 3",
    "text": "Challenge 3\n\n\n\n\n\n\nChallenge\n\n\n\nHow did the energy class of houses evolve for those built during the 20th and 21st century?\nWhat is the build year of the newest house (woonhuis) with energy class B?\nðŸ’¡ You can limit the plot to the years between x1 and x2 using scale_x_continuous(limits=[x1, x2])\n\n\n\n\nShow solution\n(\nggplot(ut)+\ngeom_jitter(mapping=aes(x='build_year', y='energy_label', color='house_type')) +\nscale_x_continuous(limits=[1900, 2025])+\nlabs(x='Year Built', y='Energy Class', color='House type')\n)\n\n\nC:\\Projects\\Teaching\\LUDataLiteracy\\.venv\\Lib\\site-packages\\plotnine\\layer.py:374: PlotnineWarning: geom_jitter : Removed 8 rows containing missing values.\n\n\n\n\n\n\n\n\n\n\n\nShow solution\n(\nggplot(ut)+\ngeom_jitter(mapping=aes(x='build_year', y='energy_label', color='house_type')) +\nscale_x_continuous(limits=[1998, 2025])+\nlabs(x='Year Built', y='Energy Class', color='House type')\n)\n\n\nC:\\Projects\\Teaching\\LUDataLiteracy\\.venv\\Lib\\site-packages\\plotnine\\layer.py:374: PlotnineWarning: geom_jitter : Removed 81 rows containing missing values."
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-4",
    "href": "1_DataViz_sol.html#challenge-4",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 4",
    "text": "Challenge 4\n\n\n\n\n\n\nChallenge\n\n\n\nReproduce this plot.\nðŸ’¡ If you want to match the color palette as well, itâ€™s qualitative brewer scale number 2\nðŸ’¡ You can add multi-line strings in Python using triple quotes like this \"\"\"long string which may span multiple lines\"\"\"\n\n\nShow solution\n(\nggplot(ut)+\ngeom_point(mapping=aes(x='house_area', y='retail_value', color='house_type'))+\ngeom_smooth(mapping=aes(x='house_area', y='retail_value'),method='lm')+\nlabs(title='Scatterplot of house area and retail value',\nsubtitle='Color indicates the type of property',\nx='House Area, sqm', y='Retail Price, kâ‚¬', color='House type',\ncaption=\"\"\"A linear regression approximates the positive relation between\nthe variables (with error bands shown in gray)\"\"\")+\nscale_color_brewer('qual', 2)+\ntheme_bw()\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-5",
    "href": "1_DataViz_sol.html#challenge-5",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 5",
    "text": "Challenge 5\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the retail values of houses by district. Which district has the highest median prices, and which has the lowest? Use coord_flip() if the district names are hard to read.\n\n\n\n\nShow solution\n(\nggplot(ut, aes(y='retail_value', x='reorder(district, retail_value)'))+\ngeom_boxplot()+\ncoord_flip()+\nlabs(x=\"\", y=\"Retail value, kEUR\")\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-6",
    "href": "1_DataViz_sol.html#challenge-6",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 6",
    "text": "Challenge 6\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the distribution of retail values for the two house types. Which of the two appears more symmetrical?\n\n\n\n\nShow solution\n# this could be two separate plots, then after_stat() would not be required\n(\nggplot(ut,aes(x='retail_value'))+\ngeom_histogram(aes(fill='house_type', y=after_stat(\"density\")),bins=15,alpha=0.3)+\ngeom_density(mapping=aes(color='house_type'))+\nfacet_wrap('house_type', ncol=1)+\nlabs(x=\"Retail value, kEUR\")\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-7",
    "href": "1_DataViz_sol.html#challenge-7",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 7",
    "text": "Challenge 7\n\n\n\n\n\n\nChallenge\n\n\n\nPlot house prices against house size for each district in small multiples. Add a blue linear regression line to each subplot. Which district shows the steepest slope, and which the shallowest?\nðŸ’¡ facet_wrapcould be of good help here!\n\n\n\n\nShow solution\n(\nggplot(ut, aes(y='retail_value', x='house_area'))+\ngeom_point()+\ngeom_smooth(method=\"lm\", color=\"blue\")+\nlabs(y=\"Retail value, kEUR\", x=\"House Area\")+\nfacet_wrap('district')\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-8",
    "href": "1_DataViz_sol.html#challenge-8",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 8",
    "text": "Challenge 8\n\n\n\n\n\n\nChallenge\n\n\n\nWhat are the approximate coordinates of the train station? In which district do you think it is located? And what might be its zip code? (You can Google to check your guess.)\nðŸ’¡ There is a variable for distance to train station in the data, see Utrecht Data Dictionary.\n\n\n\n\nShow solution\n(\nggplot(ut, aes(x='x_coor', y='y_coor', color='dist_from_train'))+\ngeom_point()\n)\n\n\n\n\n\n\n\n\n\n\n\nShow solution\n(\nggplot(ut, aes(x='x_coor', y='y_coor', color='dist_from_train'))+\ngeom_point()+\nfacet_wrap('district')\n)\n\n\n\n\n\n\n\n\n\n\n\nShow solution\n(\nggplot(ut, aes(x='factor(zip_code4)', y='dist_from_train'))+\ngeom_jitter()+\ncoord_flip()+\nfacet_wrap('district', scales='free_y')+\nscale_y_log10()\n\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-9",
    "href": "1_DataViz_sol.html#challenge-9",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 9",
    "text": "Challenge 9\n\n\n\n\n\n\nChallenge\n\n\n\nPlot house prices against living area, coloring the points by property grade.\n\n\n\n\nShow solution\n(\nggplot(kc, aes(y='price', x='sqft_living', color='grade'))+\ngeom_point(alpha=0.3)\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-10",
    "href": "1_DataViz_sol.html#challenge-10",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 10",
    "text": "Challenge 10\n\n\n\n\n\n\nChallenge\n\n\n\nDo newer houses tend to cost more? Do higher-grade houses cost more? Are newer houses generally higher grade?\nðŸ’¡ Use a log scale for house prices to reduce overplotting.\n\n\n\n\nShow solution\n(\nggplot(kc, aes(y='price', x='yr_built', color='grade'))+\ngeom_point(alpha=0.3)+\nscale_y_log10()\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-11",
    "href": "1_DataViz_sol.html#challenge-11",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 11",
    "text": "Challenge 11\n\n\n\n\n\n\nChallenge\n\n\n\nVisualize the distribution of price per square foot of living area for each housing condition. Would you say that newer houses tend to be in better condition?\nðŸ’¡ You can directly plot a transformation including one or more variables, eg. y='price/sqft_living' for the price per square foot.\n\n\n\n\nShow solution\n(\nggplot(kc, aes(y='price/sqft_living', x='factor(condition)'))+\ngeom_jitter(aes(color='yr_built'),alpha=0.3)+\ngeom_boxplot()\n)"
  },
  {
    "objectID": "1_DataViz_sol.html#challenge-12",
    "href": "1_DataViz_sol.html#challenge-12",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 12",
    "text": "Challenge 12\n\n\n\n\n\n\nChallenge\n\n\n\nVisualize the distribution of price per square foot of living area for water-facing and non-water-facing properties. Which distribution appears more symmetrical?\n\n\n\n\nShow solution\n(\nggplot(kc, aes(x='price/sqft_living', color= 'factor(waterfront)', fill='factor(waterfront)'))+\ngeom_density(alpha=0.3)\n)"
  },
  {
    "objectID": "1_DataViz.html",
    "href": "1_DataViz.html",
    "title": "Practical 1: Data Visualization",
    "section": "",
    "text": "This is the tutorial for the first practical on Data Visualization with Plotnine\nThe objective of the tutorial is to give students a chance to practice data visualization by applying the skills learned through the video lessons, on a new dataset."
  },
  {
    "objectID": "1_DataViz.html#preparation",
    "href": "1_DataViz.html#preparation",
    "title": "Practical 1: Data Visualization",
    "section": "Preparation:",
    "text": "Preparation:\n\nNavigatorâ€™s computer\nPlease open the files you need for reference, they will be the navigatorâ€™s best tools to help the driver efficiently:\n\nOpen your self-created code-along notebook with the commands you tried during the preparatory videos.\nKeep this document on the screen\nOpen data dictionary for Utrecht data\n\nHave a look at the manuscripts for the preparatory videos. Although, texts are rather chatty, the code (and explanations) can be useful!\n\n\n\nDriverâ€™s computer\n\n\n\n\n\n\nNote\n\n\n\nPlease open a terminal and navigate to the course folder you created during the installation and preparations (remember cd and ls). When terminal is in the correct location (mine is C:/Projects/Teaching/data-literacy-project/), start the Jupyter notebook environment in your terminal using the command you learned in Module 1 of the course.\nuv run jupyter lab\nCreate a new notebook and add a text cell atop your document for this practical session. Add a header # Data Visualization. Then add a code cell and place the following code there.\nThen import the datasets for this practical. Add another code cell below (using the key â€˜Bâ€™) and paste the following code. This will import two datasets we will be using in the session: Utrecht and Kingâ€™s County.\nSave the notebook, eg. as Practical1.ipynb.\nAfter the Practical, share the notebook (+ pyproject.toml) in your programming pair."
  },
  {
    "objectID": "1_DataViz.html#challenge-1",
    "href": "1_DataViz.html#challenge-1",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 1",
    "text": "Challenge 1\n\n\n\n\n\n\nChallenge\n\n\n\nReproduce this plot."
  },
  {
    "objectID": "1_DataViz.html#challenge-2",
    "href": "1_DataViz.html#challenge-2",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 2",
    "text": "Challenge 2\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the (asked) price of the house against the number of rooms. Use color to indicate number of bathrooms in each house.\nðŸ’¡ Plot bathrooms as a â€˜factorâ€™ to show the two categories more distinctly."
  },
  {
    "objectID": "1_DataViz.html#challenge-3",
    "href": "1_DataViz.html#challenge-3",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 3",
    "text": "Challenge 3\n\n\n\n\n\n\nChallenge\n\n\n\nHow did the energy class of houses evolve for those built during the 20th and 21st century?\nWhat is the build year of the newest house (woonhuis) with energy class B?\nðŸ’¡ You can limit the plot to the years between x1 and x2 using scale_x_continuous(limits=[x1, x2])"
  },
  {
    "objectID": "1_DataViz.html#challenge-4",
    "href": "1_DataViz.html#challenge-4",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 4",
    "text": "Challenge 4\n\n\n\n\n\n\nChallenge\n\n\n\nReproduce this plot.\nðŸ’¡ If you want to match the color palette as well, itâ€™s qualitative brewer scale number 2\nðŸ’¡ You can add multi-line strings in Python using triple quotes like this \"\"\"long string which may span multiple lines\"\"\""
  },
  {
    "objectID": "1_DataViz.html#challenge-5",
    "href": "1_DataViz.html#challenge-5",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 5",
    "text": "Challenge 5\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the retail values of houses by district. Which district has the highest median prices, and which has the lowest? Use coord_flip() if the district names are hard to read."
  },
  {
    "objectID": "1_DataViz.html#challenge-6",
    "href": "1_DataViz.html#challenge-6",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 6",
    "text": "Challenge 6\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the distribution of retail values for the two house types. Which of the two appears more symmetrical?"
  },
  {
    "objectID": "1_DataViz.html#challenge-7",
    "href": "1_DataViz.html#challenge-7",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 7",
    "text": "Challenge 7\n\n\n\n\n\n\nChallenge\n\n\n\nPlot house prices against house size for each district in small multiples. Add a blue linear regression line to each subplot. Which district shows the steepest slope, and which the shallowest?\nðŸ’¡ facet_wrapcould be of good help here!"
  },
  {
    "objectID": "1_DataViz.html#challenge-8",
    "href": "1_DataViz.html#challenge-8",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 8",
    "text": "Challenge 8\n\n\n\n\n\n\nChallenge\n\n\n\nWhat are the approximate coordinates of the train station? In which district do you think it is located? And what might be its zip code? (You can Google to check your guess.)\nðŸ’¡ There is a variable for distance to train station in the data, see Utrecht Data Dictionary."
  },
  {
    "objectID": "1_DataViz.html#challenge-9",
    "href": "1_DataViz.html#challenge-9",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 9",
    "text": "Challenge 9\n\n\n\n\n\n\nChallenge\n\n\n\nPlot house prices against living area, coloring the points by property grade."
  },
  {
    "objectID": "1_DataViz.html#challenge-10",
    "href": "1_DataViz.html#challenge-10",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 10",
    "text": "Challenge 10\n\n\n\n\n\n\nChallenge\n\n\n\nDo newer houses tend to cost more? Do higher-grade houses cost more? Are newer houses generally higher grade?\nðŸ’¡ Use a log scale for house prices to reduce overplotting."
  },
  {
    "objectID": "1_DataViz.html#challenge-11",
    "href": "1_DataViz.html#challenge-11",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 11",
    "text": "Challenge 11\n\n\n\n\n\n\nChallenge\n\n\n\nVisualize the distribution of price per square foot of living area for each housing condition. Would you say that newer houses tend to be in better condition?\nðŸ’¡ You can directly plot a transformation including one or more variables, eg. y='price/sqft_living' for the price per square foot."
  },
  {
    "objectID": "1_DataViz.html#challenge-12",
    "href": "1_DataViz.html#challenge-12",
    "title": "Practical 1: Data Visualization",
    "section": "Challenge 12",
    "text": "Challenge 12\n\n\n\n\n\n\nChallenge\n\n\n\nVisualize the distribution of price per square foot of living area for water-facing and non-water-facing properties. Which distribution appears more symmetrical?"
  },
  {
    "objectID": "2_DataViz_wrangling.html",
    "href": "2_DataViz_wrangling.html",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "",
    "text": "The objective of the tutorial is to give student a chance to practice the data visualization and data wrangling applying the skills learned through the video lessons on a new dataset."
  },
  {
    "objectID": "2_DataViz_wrangling.html#preparation",
    "href": "2_DataViz_wrangling.html#preparation",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Preparation",
    "text": "Preparation\n\n\n\n\n\n\nNote\n\n\n\nBefore you begin your peer-programming session, please, start the new Jupyter notebook environment in your terminal using the command you learned in Module 1 of the course.\nuv run jupyter lab\nCreate a new notebook and add a text cell atop your document for this practical session. Add a header # Data Visualization and wrangling. Then add a code cell and place the following code there.\n\nimport polars as pl\nimport polars.selectors as cs\nfrom plotnine import *\n\nThen import the datasets for this practical. Add another code cell below (using the key â€˜Bâ€™) and paste the following code. This will import two datasets we will be using in the session: Utrecht and Kingâ€™s County.\n\nut = pl.read_csv(\"https://bit.ly/data24utrecht\", try_parse_dates=True)\nkc = pl.read_csv('https://bit.ly/data24kingscounty', try_parse_dates=True)"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-1",
    "href": "2_DataViz_wrangling.html#challenge-1",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 1",
    "text": "Challenge 1\n\n\n\n\n\n\nChallenge\n\n\n\nWhat is the average garden size for the houses in the Utrecht dataset? What is the median distance from the train station?"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-2",
    "href": "2_DataViz_wrangling.html#challenge-2",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 2",
    "text": "Challenge 2\n\n\n\n\n\n\nChallenge\n\n\n\nPlot house area against lot area for the woonhuis properties and add a linear trend line. Which points stand out as outliers from the overall pattern? Roughly what lot area would you expect for a 200 sqm house based on this line?\nðŸ’¡ You can pass the data to plotnine using the .pipe() method."
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-3",
    "href": "2_DataViz_wrangling.html#challenge-3",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 3",
    "text": "Challenge 3\n\n\n\n\n\n\nChallenge\n\n\n\nDo the outliers you identified in the previous plot also stand out in the relationship between house area and asking price? Do these outliers correspond to newer or older houses? Are they located close to one another? What are their 4-digit zip codes?"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-4",
    "href": "2_DataViz_wrangling.html#challenge-4",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 4",
    "text": "Challenge 4\n\n\n\n\n\n\nChallenge\n\n\n\nCreate a small dataset that includes only houses from the zip codes identified in the previous challenge. Show the street name, house size, lot area, build year, energy class, and asking price. How many houses are in your dataset? Arrange the observations by the year the houses were built. On which street is the oldest of these houses located?"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-5",
    "href": "2_DataViz_wrangling.html#challenge-5",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 5",
    "text": "Challenge 5\n\n\n\n\n\n\nChallenge\n\n\n\nWhich 4-digit zip code includes the largest number of streets?\nWithin that zip code, what is the street name of the house closest to the train station?\nðŸ’¡ You can count unique values using n_unique() and find the minimum value with min()"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-6",
    "href": "2_DataViz_wrangling.html#challenge-6",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 6",
    "text": "Challenge 6\n\n\n\n\n\n\nChallenge\n\n\n\nPlot a line showing the average house size per decade in the 20th century. How many peaks in the house sizes can you identify?\nðŸ’¡ The whole-number division in Python is written as //"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-7",
    "href": "2_DataViz_wrangling.html#challenge-7",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 7",
    "text": "Challenge 7\n\n\n\n\n\n\nChallenge\n\n\n\nCalculate the average square meter price per valuation week based on the retail value and plot it. Do you see any trend in real estate prices over time?\nðŸ’¡ Measure per square meter price as retail value divided by house area\nðŸ’¡ You can extract the ISO week number from the date using the .dt.week() method"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-8",
    "href": "2_DataViz_wrangling.html#challenge-8",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 8",
    "text": "Challenge 8\n\n\n\n\n\n\nChallenge\n\n\n\nWhich street has the highest number of energy-efficient houses? What proportion of houses on that street are energy efficient? When was the oldest of these houses built?\nðŸ’¡ You can calculate the proportion using .over() clause"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-9",
    "href": "2_DataViz_wrangling.html#challenge-9",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 9",
    "text": "Challenge 9\n\n\n\n\n\n\nChallenge\n\n\n\nDefine the asking price premium as the percentage difference between the asking price and the retail value. Which house has the highest asking price premium in the dataset? Compare this house to the others on the same street â€” is it also the most expensive on a per-square-meter basis?\nPlot the distribution of asking price per square meter. What do the top three most expensive properties in Utrecht (per square meter) have in common?\nðŸ’¡ You can see the house on Google Street View if you search Google Maps using x_coor, y_coor."
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-10",
    "href": "2_DataViz_wrangling.html#challenge-10",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 10",
    "text": "Challenge 10\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the number of houses sold in each district.\nðŸ’¡ Use a bar chart to visualize the counts and flip the coordinates to make the labels easier to read. Research the difference between a bar chart and a column plot in Plotnine. Investigate how to use the reorder() function in Plotnine and see if you can improve your plot with it."
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-11",
    "href": "2_DataViz_wrangling.html#challenge-11",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 11",
    "text": "Challenge 11\n\n\n\n\n\n\nChallenge\n\n\n\nHow many houses changed owners more than once? What is the maximum number of times a house was sold? Where is this house located? How much profit was made by flipping it?"
  },
  {
    "objectID": "2_DataViz_wrangling.html#challenge-12",
    "href": "2_DataViz_wrangling.html#challenge-12",
    "title": "Practical 2: Data Visualization + Wrangling",
    "section": "Challenge 12",
    "text": "Challenge 12\n\n\n\n\n\n\nChallenge\n\n\n\nPlot the average monthly house prices. Do you see signs of house-price inflation? Does your conclusion hold for every district?\nðŸ’¡ ou can round dates to the start of each month using dt.month_start()."
  },
  {
    "objectID": "3_Wrangling_GT.html",
    "href": "3_Wrangling_GT.html",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "",
    "text": "The objective of the tutorial is to give student a chance to practice the data wrangling and great tables applying the skills learned through the video lessons on a new dataset."
  },
  {
    "objectID": "3_Wrangling_GT.html#preparation",
    "href": "3_Wrangling_GT.html#preparation",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Preparation",
    "text": "Preparation\n\n\n\n\n\n\nNote\n\n\n\nBefore you begin your peer-programming session, please, start the new Jupyter notebook environment in your terminal using the command you learned in Module 1 of the course.\nuv run jupyter lab\nCreate a new notebook and add a text cell atop your document for this practical session. Add a header # Data Visualization and wrangling. Then add a code cell and place the following code there.\n\nimport polars as pl\nimport polars.selectors as cs\nfrom plotnine import *\nfrom great_tables import GT\n\nThen import the datasets for this practical. Add another code cell below (using the key â€˜Bâ€™) and paste the following code. This will import two datasets we will be using in the session: Utrecht and Kingâ€™s County.\n\nut = pl.read_csv(\"https://bit.ly/data24utrecht\", try_parse_dates=True)\nkc = pl.read_csv('https://bit.ly/data24kingscounty', try_parse_dates=True)"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-1",
    "href": "3_Wrangling_GT.html#challenge-1",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 1",
    "text": "Challenge 1\n\n\n\n\n\n\nChallenge\n\n\n\nHow old is the newest house (woonhuis) with energy class B?"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-2",
    "href": "3_Wrangling_GT.html#challenge-2",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 2",
    "text": "Challenge 2\n\n\n\n\n\n\nChallenge\n\n\n\nWhat are top-3 districts with the largest number of properties in energy class B or better? Do any of these districs have missing values in the energy_label column?\nðŸ’¡ The logical OR operator in Python is denoted by |"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-3",
    "href": "3_Wrangling_GT.html#challenge-3",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 3",
    "text": "Challenge 3\n\n\n\n\n\n\nChallenge\n\n\n\nCreate a great tables summary showing the proportion of energy-efficient homes (those with an energy label of A or better) for each decade from the 20th and 21st century.\nðŸ’¡ You can group houses by decade by flooring the build year to the start of the decade using integer division //"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-4",
    "href": "3_Wrangling_GT.html#challenge-4",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 4",
    "text": "Challenge 4\n\n\n\n\n\n\nChallenge\n\n\n\nCreate a great table showing the minimum and maximum retail value per square meter by city and district, as well as the number of houses in each district. Arrange the table by the price range from lowest to highest. Which district has the most expensive housing?\nðŸ’¡ You can count number of records per group with pl.len()"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-5",
    "href": "3_Wrangling_GT.html#challenge-5",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 5",
    "text": "Challenge 5\n\n\n\n\n\n\nChallenge\n\n\n\nUse selectors and multi-column expressions for this challenge. Create a great table showing average values (mean()) for all numeric columns and the number of unique values (n_unique()) for all string columns, by district, for all columns except for IDs, zip codes, geographic coordinates and build year. Arrange your table from the priciest to the cheapest district.\nðŸ’¡ This challenge will be easier if you assign prefixes to the aggregated column names. For example you can give numeric columns the prefix avg_ and the string columns the prefix num_. The proportion could be prefixed with prop_. Show proportions as percent in your table.\nðŸ’¡ You can add prefix to a set of columns using .name.prefix('zzz_')"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-6",
    "href": "3_Wrangling_GT.html#challenge-6",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 6",
    "text": "Challenge 6\n\n\n\n\n\n\nChallenge\n\n\n\nMake a great table containing Seattle properties that were sold multiple times. For each property ID, show the date of the sale and the price it was sold at.\nðŸ’¡ You will need to remember how to use .over() to complete this challenge."
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-7",
    "href": "3_Wrangling_GT.html#challenge-7",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 7",
    "text": "Challenge 7\n\n\n\n\n\n\nChallenge\n\n\n\nMake a great table showing how much profit was made from property flipping (buying and reselling homes) in the top five districts.\nðŸ’¡ You can create a lagged version of a column - e.g.Â to compare consecutive sales of the same property - using .shift(-1)."
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-8",
    "href": "3_Wrangling_GT.html#challenge-8",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 8",
    "text": "Challenge 8\n\n\n\n\n\n\nChallenge\n\n\n\nCorrect the renovation year, to show the year when the most recent renovation happened, or in the absence of it, make it show the construction year.\nðŸ’¡ You can use a conditional expression in Polars such as: pl.when(condition).then(value_if_true).otherwise(value_if_false)."
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-9",
    "href": "3_Wrangling_GT.html#challenge-9",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 9",
    "text": "Challenge 9\n\n\n\n\n\n\nChallenge\n\n\n\nVisualize the distribution of the property age at the time of sale. Which district is likely to have been developed most recently?\nðŸ’¡ The year of sale can be extracted with pl.col('date').dt.year()"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-10",
    "href": "3_Wrangling_GT.html#challenge-10",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 10",
    "text": "Challenge 10\n\n\n\n\n\n\nChallenge\n\n\n\nExplore whether houses in the Highline district that were recently renovated tend to have a higher price per square foot. How does this relationship change after you remove outliers?"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-11",
    "href": "3_Wrangling_GT.html#challenge-11",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 11",
    "text": "Challenge 11"
  },
  {
    "objectID": "3_Wrangling_GT.html#challenge-12",
    "href": "3_Wrangling_GT.html#challenge-12",
    "title": "Practical 3: Data Wrangling + great tables",
    "section": "Challenge 12",
    "text": "Challenge 12"
  },
  {
    "objectID": "5_Pivots_GT.html",
    "href": "5_Pivots_GT.html",
    "title": "Practical 5: Pivots + Great Tables",
    "section": "",
    "text": "This is the tutorial for the first practical on Data Visualization with Plotnine\n\n1 + 1\n\n2\n\n\n\n\nCode\nimport polars as pl\nfrom plotnine import *\nfrom gapminder import gapminder\n\n\nC:\\Projects\\Teaching\\LUDataLiteracy\\.venv\\Lib\\site-packages\\gapminder\\data.py:1: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools&lt;81.\n\n\n\n#gapminder\n\n\n(\nggplot(gapminder)+\ngeom_point(mapping=aes(x='gdpPercap', y='lifeExp', color='continent'))\n)"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This website hosts the Practicals for Lund University course MNXB07 Data Literacy with Python.\nPracticals are under construction and the state preliminary until the scheduled help sessions.\nSolutions will be published after each Practical for further practice."
  },
  {
    "objectID": "KingsCounty.html",
    "href": "KingsCounty.html",
    "title": "Kings County Housing",
    "section": "",
    "text": "The dataset contains the following columns\n\n\n\n\n\n\n\n\nvariable\ndescription\n\n\n\n\nid\nUnique ID for each home sold\n\n\ndate\nDate of the home sale\n\n\nprice\nPrice of each home sold\n\n\nbedrooms\nNumber of bedrooms\n\n\nbathrooms\nNumber of bathrooms\n\n\nsqft_living\nSquare footage of the apartments interior living space\n\n\nsqft_lot\nSquare footage of the land space\n\n\nfloors\nNumber of floors\n\n\nwaterfront\nA dummy variable for whether the apartment was overlooking the waterfront or not\n\n\nview\nAn index from 0 to 4 of how good the view of the property was\n\n\ncondition\nAn index from 1 to 5 on the condition of the apartment\n\n\ngrade\nAn index from 1 to 13 where 1-3 falls short of building construction and design, 7 has an average level of construction and design and 11-13 have a high quality level of construction and design\n\n\nsqft_above\nSquare footage of the interior housing space above ground level\n\n\nsqft_basement\nSquare footage of the interior housing space below ground level\n\n\nyr_built\nYear the house was initially built\n\n\nyr_renovated\nYear of the houseâ€™s last renovation and, if not renovated, the year built\n\n\nzipcode\nZipcode the house belongs to\n\n\nlat\nLatitude\n\n\nlong\nLongitude\n\n\nsqft_living15\nAverage square footage of the apartments interior living space for the nearest 15 neighbors\n\n\nsqft_lot15\nAverage square footage of the land space for the nearest 15 neighbors\n\n\ndistrict\nSchool district name"
  }
]